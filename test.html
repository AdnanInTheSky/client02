<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="BioNova â€“ Empowering sustainable community development." />
  <title>BioNova | Sustainable Community Development</title>

  <!-- Bootstrap 5.3 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <!-- Icons (lightweight) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" 
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    /* Minimal: zoom behavior + monochrome tone */
    .zoomable {
      cursor: zoom-in;
      transition: transform 0.3s ease;
    }
    .zoomed {
      transform: scale(1.5);
      cursor: zoom-out;
    }
    body {
      background-color: #ffffff;
      color: #000000;
    }
    .text-muted {
      color: #6c757d !important;
    }
  </style>
</head>
<body class="bg-white text-dark">

  <!-- Header -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">BioNova</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navLinks">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navLinks">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="articles.html">Articles</a></li>
          <li class="nav-item"><a class="nav-link" href="team.html">Team</a></li>
          <li class="nav-item"><a class="nav-link" href="services.html">Services</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <main>
    <!-- Hero -->
    <div class="bg-dark text-white text-center py-5" style="min-height: 60vh; display: flex; align-items: center; justify-content: center;">
      <div class="container">
        <h1 class="display-4 fw-bold mb-3">Sustainable Solutions for Global Challenges</h1>
        <p class="lead mb-4">Empowering communities through innovative development programs and strategic partnerships</p>
        <a href="contact.html" class="btn btn-outline-light btn-lg">Join Our Mission</a>
      </div>
    </div>

    <!-- About -->
    <div class="container py-5">
      <div class="row justify-content-center mb-5">
        <div class="col-md-8 text-center">
          <h2 class="fw-bold mb-3">Our Commitment to Sustainable Change</h2>
          <p class="lead text-muted">
            Building resilient communities through evidence-based approaches and collaborative partnerships
          </p>
        </div>
      </div>
      <div class="row align-items-center">
        <div class="col-md-6 mb-4 mb-md-0">
          <img src="/content/images/teamBio.jpeg" class="img-fluid rounded" alt="BioNova team collaborating" loading="lazy">
        </div>
        <div class="col-md-6">
          <p class="mb-3">
            BioNova is an international non-governmental organization dedicated to creating lasting, sustainable change in communities worldwide.
          </p>
          <p class="mb-3">
            Our mission focuses on empowering communities through capacity building, education, healthcare access, and economic development.
          </p>
          <p class="mb-4">
            Through strategic partnerships with local organizations, government agencies, and international stakeholders, we've successfully implemented programs that have transformed lives across multiple continents while maintaining the highest standards of accountability and transparency.
          </p>
          <a href="#" class="btn btn-outline-dark">Explore Our Impact <i class="fas fa-arrow-right ms-1"></i></a>
        </div>
      </div>
    </div>

    <!-- Articles -->
    <div class="bg-light py-5">
      <div class="container">
        <div class="row justify-content-center mb-5">
          <div class="col-md-8 text-center">
            <h2 class="fw-bold mb-3">Insights & Impact Stories</h2>
            <p class="lead text-muted">
              Research findings, program updates, and stories of transformation from our global initiatives
            </p>
          </div>
        </div>
        <div class="row g-4" id="articles-container">
          <div class="col-12 text-center py-4 text-muted">Loading articles...</div>
        </div>
        <div class="text-center mt-5">
          <a href="articles.html" class="btn btn-link text-dark fw-bold">
            View All Publications <i class="fas fa-arrow-right ms-1"></i>
          </a>
        </div>
      </div>
    </div>

    <!-- Team -->
    <div class="container py-5">
      <div class="row justify-content-center mb-5">
        <div class="col-md-8 text-center">
          <h2 class="fw-bold mb-3">Our Leadership & Experts</h2>
          <p class="lead text-muted">
            Dedicated professionals driving sustainable change across our global operations
          </p>
        </div>
      </div>
      <div class="row g-4" id="team-container">
        <div class="col-12 text-center py-4 text-muted">Loading team...</div>
      </div>
      <div class="text-center mt-5">
        <a href="team.html" class="btn btn-link text-dark fw-bold">
          Meet Our Full Team <i class="fas fa-arrow-right ms-1"></i>
        </a>
      </div>
    </div>

    <!-- Franchising Notice -->
    <div class="bg-dark text-white py-4">
      <div class="container text-center">
        <h3 class="mb-2">BioNova Franchising LLC</h3>
        <p class="mb-3">
          The future home of BioNova Franchising for BioNova North America dealers.
        </p>
        <p class="mb-0">
          For more information on franchising, please contact us at 
          <a href="mailto:info@bionova.org" class="text-white text-decoration-underline">info@bionova.org</a>.
        </p>
        <p class="mt-2 fst-italic text-secondary">
          *Click/tap images to zoom*
        </p>
      </div>
    </div>
  </main>

  <footer class="bg-dark text-white py-4">
    <div class="container text-center">
      <p class="mb-0">&copy; 2025 BioNova. All rights reserved.</p>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

  <script>
    // --- Your original utility functions ---
    function parseYAML(yamlStr) {
        const result = {};
        const lines = yamlStr.trim().split('\n');
        for (const line of lines) {
            const [key, ...valueParts] = line.split(':');
            const trimmedKey = key.trim();
            let value = valueParts.join(':').trim();
            if (value.startsWith('"') && value.endsWith('"')) {
                value = value.slice(1, -1);
            } else if (value.startsWith("'") && value.endsWith("'")) {
                value = value.slice(1, -1);
            } else if (value.startsWith('[') && value.endsWith(']')) {
                value = value.slice(1, -1).split(',').map(v => v.trim().replace(/"/g, '').replace(/'/g, ''));
            }
            result[trimmedKey] = value;
        }
        return result;
    }

    // --- Dynamic Content Loading (Your Script) ---
    async function loadIndexContent() {
        try {
            const indexResponse = await fetch('/content/index.json');
            if (!indexResponse.ok) throw new Error(`HTTP ${indexResponse.status}`);
            const indexData = await indexResponse.json();

            // === ARTICLES ===
            const articleFiles = indexData.articles.slice(0, 3);
            const articlePromises = articleFiles.map(file =>
                fetch(`/content/${file}`)
                    .then(r => r.ok ? r.text() : Promise.reject(`Failed: ${file}`))
                    .catch(err => {
                        console.warn(err);
                        return null;
                    })
            );
            const articleTexts = await Promise.all(articlePromises);
            const articleCards = [];
            for (let i = 0; i < articleTexts.length; i++) {
                const text = articleTexts[i];
                if (!text) continue;
                const parts = text.split('---');
                if (parts.length < 3) continue;
                const meta = parseYAML(parts[1]);
                const title = meta.title || 'Untitled';
                const tags = meta.tags ? meta.tags.split(',').map(t => t.trim()) : ['General'];
                const img = meta.image || 'data:image/svg+xml;charset=UTF-8,<svg%20width%3D"400"%20height%3D"225"%20xmlns%3D"http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg"%3E%3Crect%20width%3D"100%25"%20height%3D"100%25"%20fill%3D"%23eee"%2F%3E%3Ctext%20x%3D"50%25"%20y%3D"50%25"%20text-anchor%3D"middle"%20dy%3D".3em"%20fill%3D"%23aaa"%3EImage%20Not%20Found%3C%2Ftext%3E%3C%2Fsvg%3E';

                articleCards.push(`
                    <div class="col-md-4">
                        <div class="card border-0 h-100">
                            <img src="${img}"
                                 class="card-img-top zoomable"
                                 alt="${title}"
                                 loading="lazy"
                                 onclick="this.classList.toggle('zoomed')"
                                 style="object-fit:cover; height:225px;">
                            <div class="card-body p-0 pt-3">
                                <h5 class="card-title h5 fw-bold">${title}</h5>
                                <div class="mt-2">
                                    ${tags.map(tag => 
                                        `<span class="badge bg-light text-dark border">${tag}</span>`
                                    ).join(' ')}
                                </div>
                            </div>
                        </div>
                    </div>
                `);
            }

            document.getElementById('articles-container').innerHTML = articleCards.length
                ? articleCards.join('')
                : '<div class="col-12 text-center text-muted">No articles available.</div>';

            // === TEAM ===
            const teamFiles = indexData.teams.slice(0, 3);
            const teamPromises = teamFiles.map(file =>
                fetch(`/content/${file}`)
                    .then(r => r.ok ? r.text() : Promise.reject(`Failed: ${file}`))
                    .catch(err => {
                        console.warn(err);
                        return null;
                    })
            );
            const teamTexts = await Promise.all(teamPromises);
            const teamCards = [];
            for (let i = 0; i < teamTexts.length; i++) {
                const text = teamTexts[i];
                if (!text) continue;
                const parts = text.split('---');
                if (parts.length < 3) continue;
                const meta = parseYAML(parts[1]);
                const name = meta.title || 'Team Member';
                const role = meta.role || 'Role';
                const img = meta.image || 'data:image/svg+xml;charset=UTF-8,<svg%20width%3D"120"%20height%3D"120"%20xmlns%3D"http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg"%3E%3Ccircle%20cx%3D"60"%20cy%3D"60"%20r%3D"50"%20fill%3D"%23eee"%20stroke%3D"%23ccc"%20stroke-width%3D"2"%2F%3E%3Ctext%20x%3D"60"%20y%3D"65"%20text-anchor%3D"middle"%20fill%3D"%23aaa"%20font-size%3D"12"%3EN%2FA%3C%2Ftext%3E%3C%2Fsvg%3E';

                teamCards.push(`
                    <div class="col-md-4 text-center">
                        <img src="${img}"
                             class="rounded-circle zoomable mb-3"
                             alt="${name}"
                             loading="lazy"
                             onclick="this.classList.toggle('zoomed')"
                             style="width:120px; height:120px; object-fit:cover;">
                        <h5 class="fw-bold mb-1">${name}</h5>
                        <p class="text-muted mb-1">${role}</p>
                        <button class="btn btn-link p-0 text-dark fw-bold"
                                onclick="openDetail('${teamFiles[i]}', 'team')">
                            View Profile
                        </button>
                    </div>
                `);
            }

            document.getElementById('team-container').innerHTML = teamCards.length
                ? teamCards.join('')
                : '<div class="col-12 text-center text-muted">No team members available.</div>';

        } catch (error) {
            console.error('Load error:', error);
            document.getElementById('articles-container').innerHTML = '<div class="col-12 text-center text-danger">Failed to load articles.</div>';
            document.getElementById('team-container').innerHTML = '<div class="col-12 text-center text-danger">Failed to load team.</div>';
        }
    }

    function openDetail(id, type) {
        sessionStorage.setItem('selectedFile', id);
        const url = type === 'article' ? 'article.html' : 'team_detail.html';
        window.location.href = url;
    }

    // Init
    document.addEventListener('DOMContentLoaded', loadIndexContent);
  </script>
</body>
</html>